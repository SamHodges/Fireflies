<!DOCTYPE html>
<html lang=en>
	<meta charset=utf-8>
	<title>Fireflies</title>
	<script src="./fireflies.js" defer></script>
	<link rel="stylesheet" href="./style.css">
	<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">


	<script>
		window.onload = function(){
			drawFireflies();
			setMidday();
		}
	</script>

	<div class="parallax">

	</div>

	<h1>Fireflies</h1>
	<p>
		Out of the many different firefly species living across the world, certain fireflies have fascinated scientists and tourists alike with their synchronous 
		flashing patterns. In several species of fireflies, mostly found in Southeast Asia and the Appalachians, male fireflies coordinate their flashing patterns with each other. 
		This is thought to be a means to attract female mates to the correct species. See an example of such fireflies in this video
		<a href="https://www.youtube.com/watch?v=0BOjTMkyfIA
		">here!</a> 

	</p>

	<p>
		When reading about fireflies, we realized they weren't really based on internal synchronization, but more on randomness and probability. 
		Our implementation works in the same way â€” each firefly will recharge for 12 seconds (the minimum amount of time needed for fireflies to recharge physically), 
		and then flash at some point within the next 1-10 seconds. Real fireflies will flash sometime within a few minutes, so the change is 
		mostly just to speed up the visualization. When a firefly flashes, it alerts all its neighbors within a certain distance. The neighbors 
		then flash for as long as they are able. Eventually, this causes the fireflies to synchronize, even without a synchronization equation.

		All of our movement and flashing is handled using intervals. When a firefly flashes, it starts a countdown until it's recharged. 
		For movement, a firefly will move a certain distance (baseSpeed) towards a random target every 25 milliseconds in order to achieve a smooth, 
		motion-like effect. We also use a fair amount of event listeners to interface between the UI and our code.

	</p>

	<ol>
		<li>First firefly flashes</li>
		<li>Neighbors usually flash if they can (some don't for unknown reasons), and don't if they're recharging</li>
		<li>As more fireflies enter the space, it becomes more and more likely one will flash as soon as it's recharged</li>
		<li>Neighbors continue to respond, producing sychronization!</li>
	</ol>

	<h1>Demo!</h1>

	<div id="firefly-wrapper">
		<svg id="firefly-visual" width="70%" height="1000px"></svg>
	</div>

	<div class="background">
		<h2>Time</h2>
		<button id="midday" onClick="setMidday()"></button>
		<div id="clock-group">
			<button id="morning" onClick="setMorning()"></button>
			<div id="clock"><img src="arrow.png" id="arrow-midday" class="arrow"></div>
			<button id="night" onClick="setNight()"></button>
		</div>
		<p id="current-time">Current Time: Morning</p>
	</div>

	<div class="background">
		<h2>Example Firefly</h2>
		<p id="updates">Recharge Time: 12 seconds</p>
	</div>

	

	<div class="background">
		<h2>Fireflies</h2>
		<div>
			<button id="addFireflies" class="round-buttons" onClick="addFireflies()">+</button>
			<label for="amount">Amount:</label>
	  		<input type="text" id="amount" name="amount" value="5">
			<button id="removeFireflies" class="round-buttons" onClick="removeFireflies()">-</button>
		</div>

		<div class="inputs"> 
			<label for="speed">Base Speed:</label>
  			<input type="text" id="speed" name="speed" value="5">
		</div>
		
  		<div class="inputs">
  			<label for="radius">Synchronization Radius:</label>
  			<input type="text" id="radius" name="radius" value="250">
  		</div>

  		<div class="inputs">
  			<label for="placement">Choose placement?</label>
  			<input type="checkbox" id="placement" name="radius">
  		</div>

  		<p id="placement-explain"></p>
  		
	</div>

	<div class="background">
		<h2>Obstacles</h2>
		<div>
			<button id="obstacle" class="round-buttons" onClick="obstBool()">+</button>
			<!-- <button id="removeObstacle" class="round-buttons">-</button> -->
		</div>
		<p id="obstacle-explain"></p>
	</div>

	<div class="background">
		<audio controls>
		<source src="https://dl.dropbox.com/s/ibaooslzn9fon2d/Fireflies.mp3" type="audio/mpeg">
		Your browser does not support the audio element.
	</audio>
	</div>

	<div class="background">
		<p><a href="exposition.html">To learn more, click here</a></p>
	</div>
	
</html>